install PostgreSQL into this folder: C:\Program Files\PostgreSLQ\18
there's a file called 'installation summary', in the file it shows 'Database Superuser: postgres', use this as username asnd password both

how to get into postgres mode:
open cmd
C:\Program files\PostgreSQL\18\bin\lsql.exe -U postgres    //or .\psql.exe
Password for user postgres: [same as 'postgres']

postgres=# CREATE DATABASE FORUM;
CREATE DATABASE
postgres=# \conninfo

postgres=# \! cls

postgres=# CREATE TABLE users (    //case sensitive
postgres=# user_id int GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
postgres=# username varchar(50) NOT NULL UNIQUE,
postgres=# email varchar(255) NOT NULL UNIQUE
postgres=# );
CREATE TABLE

postgres=# \dt    //show database relationship

create a new file rather than new text file in VS code, name it as 'db.sql', then copy the contents below into it:
CREATE TABLE users (    //case sensitive
user_id int GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
username varchar(50) NOT NULL UNIQUE,
email varchar(255) NOT NULL UNIQUE
);

in 'View' tab open terminal:
> psql -h localhost -d postgres    //it shows up 'psql not recognised' error
the solution is: type 'environment' in start tab in windows, then select 'edit environment variables for your account' rather than 'edit the system environment variables', add 'C:\Program Files\PostgreSQL\18\bin' into 'Path' under 
'User variables for [user]', re-open terminal, then the command should work.

> psql -h localhost -d postgres     //actually this command is not needed
get into the direct folder of the db.sql file, otherwise it would show 'No such file or directory' when run the scripts below.
> psql.exe -U postgres     //then input password
> \i db.sql    //read input from a specified file and execute its contents

then add the contents below into the db.sql file:
ALTER TABLE users
ADD COLUMN name varchar(30) NOT NULL;
then in terminal:
> \i db.sql
> \d users    //display details of the table

then in db.sql file, add:
DROP TABLE users;

in terminal:
postgres=# \i db.sql
DROP TABLE
postgres=# \d users
Did not find any relation named "users".

#############################################################
the section above is how to create, drop database and tables in postgres
the section below is how t omanipulate data in postgres
#############################################################

re-create the table: run each part below (when I say 'run' it means that uncomment each part of the sql scripts and execute \i db.sql in terminal)
CREATE TABLE users (    //case sensitive
user_id int GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
username varchar(50) NOT NULL UNIQUE,
email varchar(255) NOT NULL UNIQUE
);

ALTER TABLE users
ADD COLUMN name varchar(30) NOT NULL;

INSERT INTO users (username, email, name)
VALUES ('Calcur', 'calcur@gmail.com', 'Calab Curry');
SELECT * FROM users;

UPDATE users
SET name = 'John Smith'
WHERE user_id = 1;
SELECT * FROM users;

DELETE FROM users
WHERE user_id = 1;
SELECT * FROM users;

############################################from here is talking about relationship between tables

in db.sql:
CREATE TABLE posts (
  post_id int GENERATED ALWAYS AS IDENTITY PRIMARY KEY,
  user_id int REFERENCE users(user_id),
  title text NOT NULL, body text NOT NULL
);

in terminal:
postgres=# \i db.sql
CREATE TABLE
postgres=# \dt     //list tables
postgres=# \d users    //details of table users, which would show the foreign key referencing the parent table
postgres=# \d posts

make some data in the tables:
INSERT INTO users (username, email, name)
VALUES ('Calcur', 'calcur@gmail.com', 'Calab Curry');
SELECT * FROM users;

INSERT INTO posts (user_id, title, body)
VALUES (2, 'This is a post title', 'This is more information thanks for reading'),
(2, 'This is a second post', 'This is the post body');
postgres=# \i db.sql
INSERT 0 2

SELECT * FROM posts;
postgres=# \i db.sql

//to show joints
SELECT * FROM posts INNER JOIN users ON posts.user_id = users.user_id;
postgres=# \i db.sql
SELECT title, username FROM posts INNER JOIN users ON posts.user_id = users.user_id;
postgres=# \i db.sql

//to view it easily without drawing it every time, it can be written in this format
CREATE VIEW post_info AS
  SELECT title, username
  FROM posts INNER JOIN users
  ON posts.user_id = users.user_id;

postgres=# \i db.sql
CREATE VIEW
SELECT * FROM post_info;
postgres=# \i db.sql








postgres=# SELECT *l
postgres=# \q
